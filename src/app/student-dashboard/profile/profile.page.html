<ion-content class="ion-padding hide-scrollbar">
  <!-- Global styles for hiding scrollbars -->
  <style>
    .hide-scrollbar {
      scrollbar-width: none !important; /* Firefox */
      -ms-overflow-style: none !important; /* IE and Edge */
    }
    .hide-scrollbar::-webkit-scrollbar {
      display: none !important; /* Chrome, Safari, Opera */
      width: 0 !important;
      height: 0 !important;
    }
    
    /* Sign out button styling - improved design with system red color */
    .sign-out-container {
      margin-top: 32px;
      padding: 0 16px;
      padding-bottom: 32px; /* Increased padding at bottom for more space above navbar */
    }
    
    .sign-out-button {
      --background: var(--ion-color-danger);
      --background-hover: rgba(var(--ion-color-danger-rgb), 0.9);
      --background-activated: rgba(var(--ion-color-danger-rgb), 0.85);
      --background-focused: rgba(var(--ion-color-danger-rgb), 0.85);
      --color: var(--ion-color-light);
      --border-radius: 12px;
      --box-shadow: 0 4px 8px rgba(var(--ion-color-danger-rgb), 0.3);
      --padding-top: 16px;
      --padding-bottom: 16px;
      font-weight: 600;
      font-size: 16px;
      letter-spacing: 0.5px;
      text-transform: none;
      width: 100%;
      transition: all 0.3s ease;
    }
    
    .sign-out-button:hover {
      --box-shadow: 0 6px 12px rgba(var(--ion-color-danger-rgb), 0.4);
      transform: translateY(-2px);
    }
    
    .sign-out-button ion-icon {
      font-size: 20px;
      margin-right: 8px;
    }
    
    /* Add this to ensure the content has enough height */
    .profile-container {
      min-height: 100%;
      display: flex;
      flex-direction: column;
    }
    
    /* Push the sign-out container to the bottom with space */
    ion-list {
      flex: 1;
    }
    
    /* Apply to ion-content scrollable area */
    ion-content::part(scroll) {
      scrollbar-width: none !important;
      -ms-overflow-style: none !important;
    }
    ion-content::part(scroll)::-webkit-scrollbar {
      display: none !important;
      width: 0 !important;
      height: 0 !important;
    }
  </style>
  <div class="background-logo"></div>
  <div class="profile-container pb-4 hide-scrollbar">
    <div class="profile-header">
      <div class="profile-image" (click)="uploadImage()">
        <img
          [src]="(userData$ | async)?.profilePictureUrl || './assets/profile-placeholder.jpg'"
          alt="Profile picture"
        />
        <div class="upload-overlay">
          <ion-icon name="camera"></ion-icon>
        </div>
      </div>
      <h2>{{ (userData$ | async)?.fullName || 'User Name' }}</h2>
      <p>{{ (userData$ | async)?.role || 'Role' }}</p>
    </div>
    <ion-list lines="none" class="hide-scrollbar">
      <ion-item button detail="true" routerLink="/tabs/edit-profile">
        <ion-icon name="person-outline" slot="start"></ion-icon>
        <ion-label>Edit Profile</ion-label>
      </ion-item>
      <!-- <ion-item>
        <ion-icon name="notifications-outline" slot="start"></ion-icon>
        <ion-label>Push Notification</ion-label>
        <ion-toggle color="danger" slot="end"></ion-toggle>
      </ion-item> -->
      <ion-item>
        <ion-icon name="moon-outline" slot="start"></ion-icon>
        <ion-label>Dark Mode</ion-label>
        <ion-toggle
          color="danger"
          [(ngModel)]="darkModeEnabled"
          (ionChange)="toggleDarkMode()"
          slot="end"
        ></ion-toggle>
      </ion-item>
      <!-- <ion-item>
        <ion-icon name="notifications-outline" slot="start"></ion-icon>
        <ion-label>Push Notification</ion-label>
        <ion-toggle [(ngModel)]="notificationsEnabled" (ionChange)="toggleNotifications()" slot="end"></ion-toggle>
      </ion-item> -->
      <ion-item button detail="true" (click)="openFeedback()">
        <ion-icon name="chatbubbles-outline" slot="start"></ion-icon>
        <ion-label>User Feedback</ion-label>
      </ion-item>
      <ion-item button detail="true" routerLink="/tabs/report">
        <ion-icon name="flag-outline" slot="start"></ion-icon>
        <ion-label>Report</ion-label>
      </ion-item>
    </ion-list>
    
    <!-- Sign Out Button with system red color -->
    <div class="sign-out-container">
      <ion-button 
        class="sign-out-button" 
        expand="block"
        color="danger"
        (click)="signOut()">
        <ion-icon name="log-out-outline" slot="start"></ion-icon>
        Sign Out
      </ion-button>
    </div>
  </div>
</ion-content>
